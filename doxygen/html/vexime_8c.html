<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Convex: C:/projects/vex/cortex/fw/vexime.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" class="pageheader">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="convex_logo.png"/></td>
  <td width="100%" align="center" valign="bottom"></td>
  <td align="right"></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vexime_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vexime.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>IME driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &quot;ch.h&quot;</code><br/>
<code>#include &quot;hal.h&quot;</code><br/>
<code>#include &quot;chprintf.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="vex_8h_source.html">vex.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6221c36d200cbc4fd6e061e69f1df9ff"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a6221c36d200cbc4fd6e061e69f1df9ff">vexImeGetCount</a> (int16_t channel)</td></tr>
<tr class="memdesc:a6221c36d200cbc4fd6e061e69f1df9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">return encoder count  <a href="#a6221c36d200cbc4fd6e061e69f1df9ff">More...</a><br/></td></tr>
<tr class="separator:a6221c36d200cbc4fd6e061e69f1df9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b04d80a5ce70b75e7bd0f5b0d388c1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a1b04d80a5ce70b75e7bd0f5b0d388c1a">vexImeSetCount</a> (int16_t channel, int32_t value)</td></tr>
<tr class="memdesc:a1b04d80a5ce70b75e7bd0f5b0d388c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets encoder count (stores an offset)  <a href="#a1b04d80a5ce70b75e7bd0f5b0d388c1a">More...</a><br/></td></tr>
<tr class="separator:a1b04d80a5ce70b75e7bd0f5b0d388c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b05de0c45a146703ac5988db54fae5"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a69b05de0c45a146703ac5988db54fae5">vexImeGetId</a> (int16_t channel)</td></tr>
<tr class="memdesc:a69b05de0c45a146703ac5988db54fae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">return encoder id  <a href="#a69b05de0c45a146703ac5988db54fae5">More...</a><br/></td></tr>
<tr class="separator:a69b05de0c45a146703ac5988db54fae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8f5971c372ad42d5e64d9fc91760df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a1c8f5971c372ad42d5e64d9fc91760df">vexImeGetPtr</a> (<a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a> channel)</td></tr>
<tr class="memdesc:a1c8f5971c372ad42d5e64d9fc91760df"><td class="mdescLeft">&#160;</td><td class="mdescRight">return pointer to IME data structure  <a href="#a1c8f5971c372ad42d5e64d9fc91760df">More...</a><br/></td></tr>
<tr class="separator:a1c8f5971c372ad42d5e64d9fc91760df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd2822970f2e1012e6901ee9c8ebe06"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#acbd2822970f2e1012e6901ee9c8ebe06">vexImeGetChannelMax</a> ()</td></tr>
<tr class="memdesc:acbd2822970f2e1012e6901ee9c8ebe06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of IMEs found.  <a href="#acbd2822970f2e1012e6901ee9c8ebe06">More...</a><br/></td></tr>
<tr class="separator:acbd2822970f2e1012e6901ee9c8ebe06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fe423e796a9a9c6a07eff55c577dba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a25fe423e796a9a9c6a07eff55c577dba">vexImeSetType</a> (<a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a> channel, <a class="el" href="vexmotor_8h.html#a62170b45bb8b2b6c66889914eb602819">tVexMotorType</a> type)</td></tr>
<tr class="memdesc:a25fe423e796a9a9c6a07eff55c577dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set motor type that this IME is attached to.  <a href="#a25fe423e796a9a9c6a07eff55c577dba">More...</a><br/></td></tr>
<tr class="separator:a25fe423e796a9a9c6a07eff55c577dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ec0cffa6d53f454e2f53026094cee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#af7ec0cffa6d53f454e2f53026094cee9">vexImeSetMotor</a> (<a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a> channel, <a class="el" href="vexmotor_8h.html#a1233a4fb09fef02c962ccec318e00c97">tVexMotor</a> motor)</td></tr>
<tr class="memdesc:af7ec0cffa6d53f454e2f53026094cee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the motor that this IME is attached to.  <a href="#af7ec0cffa6d53f454e2f53026094cee9">More...</a><br/></td></tr>
<tr class="separator:af7ec0cffa6d53f454e2f53026094cee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26406d6fd750e81f278178db6ebc4266"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a26406d6fd750e81f278178db6ebc4266">vexImeMotorGetCount</a> (<a class="el" href="vexmotor_8h.html#a1233a4fb09fef02c962ccec318e00c97">tVexMotor</a> motor)</td></tr>
<tr class="memdesc:a26406d6fd750e81f278178db6ebc4266"><td class="mdescLeft">&#160;</td><td class="mdescRight">return encoder count based on motor index  <a href="#a26406d6fd750e81f278178db6ebc4266">More...</a><br/></td></tr>
<tr class="separator:a26406d6fd750e81f278178db6ebc4266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a8386ebaf0e115078cbcc5d68f3bb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a53a8386ebaf0e115078cbcc5d68f3bb4">vexImeInit</a> (I2CDriver *i2cp, <a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *chp)</td></tr>
<tr class="memdesc:a53a8386ebaf0e115078cbcc5d68f3bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize IMEs on the I2C bus.  <a href="#a53a8386ebaf0e115078cbcc5d68f3bb4">More...</a><br/></td></tr>
<tr class="separator:a53a8386ebaf0e115078cbcc5d68f3bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291d9120116d7a199ed5f169e2eb324f"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a291d9120116d7a199ed5f169e2eb324f">vexIMEUpdateCounts</a> (<a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a> *ime)</td></tr>
<tr class="memdesc:a291d9120116d7a199ed5f169e2eb324f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read encoder data and then calculate the rpm.  <a href="#a291d9120116d7a199ed5f169e2eb324f">More...</a><br/></td></tr>
<tr class="separator:a291d9120116d7a199ed5f169e2eb324f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd4646d1744c6345f43ad941667f50a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#adcd4646d1744c6345f43ad941667f50a">vexIMEDataInit</a> (<a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a> *ime)</td></tr>
<tr class="memdesc:adcd4646d1744c6345f43ad941667f50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init data structure for one IME.  <a href="#adcd4646d1744c6345f43ad941667f50a">More...</a><br/></td></tr>
<tr class="separator:adcd4646d1744c6345f43ad941667f50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2532e4e8d5bf4abe1e7620114eb14f9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ac2532e4e8d5bf4abe1e7620114eb14f9">vexIMEFindEncoders</a> ()</td></tr>
<tr class="memdesc:ac2532e4e8d5bf4abe1e7620114eb14f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search bus and add all encoders found (up to 8)  <a href="#ac2532e4e8d5bf4abe1e7620114eb14f9">More...</a><br/></td></tr>
<tr class="separator:ac2532e4e8d5bf4abe1e7620114eb14f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3045a6ff7c59b14e141492f65328b9e5"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a3045a6ff7c59b14e141492f65328b9e5">vexIMEGetVersion</a> (uint8_t device, uint8_t *buf)</td></tr>
<tr class="memdesc:a3045a6ff7c59b14e141492f65328b9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read version from IME.  <a href="#a3045a6ff7c59b14e141492f65328b9e5">More...</a><br/></td></tr>
<tr class="separator:a3045a6ff7c59b14e141492f65328b9e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e92757f38d6f7a1a95fb342925f8ad"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ad3e92757f38d6f7a1a95fb342925f8ad">vexIMEGetVendor</a> (uint8_t device, uint8_t *buf)</td></tr>
<tr class="memdesc:ad3e92757f38d6f7a1a95fb342925f8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read vendor from IME.  <a href="#ad3e92757f38d6f7a1a95fb342925f8ad">More...</a><br/></td></tr>
<tr class="separator:ad3e92757f38d6f7a1a95fb342925f8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd8d372b36e74e57ec254a7e8b51433"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a0bd8d372b36e74e57ec254a7e8b51433">vexIMEGetDeviceId</a> (uint8_t device, uint8_t *buf)</td></tr>
<tr class="memdesc:a0bd8d372b36e74e57ec254a7e8b51433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read device ID from IME.  <a href="#a0bd8d372b36e74e57ec254a7e8b51433">More...</a><br/></td></tr>
<tr class="separator:a0bd8d372b36e74e57ec254a7e8b51433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28a9d4ae7da23ebf755c838b4dcdf18"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ae28a9d4ae7da23ebf755c838b4dcdf18">vexIMEGetStatus</a> (uint8_t device, uint8_t *buf)</td></tr>
<tr class="memdesc:ae28a9d4ae7da23ebf755c838b4dcdf18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Status from IME.  <a href="#ae28a9d4ae7da23ebf755c838b4dcdf18">More...</a><br/></td></tr>
<tr class="separator:ae28a9d4ae7da23ebf755c838b4dcdf18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d24756e9d68f4ba6306e94d68c77ed"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a02d24756e9d68f4ba6306e94d68c77ed">vexIMEGetData</a> (uint8_t device, uint8_t *buf)</td></tr>
<tr class="memdesc:a02d24756e9d68f4ba6306e94d68c77ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read encoder data from IME.  <a href="#a02d24756e9d68f4ba6306e94d68c77ed">More...</a><br/></td></tr>
<tr class="separator:a02d24756e9d68f4ba6306e94d68c77ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e9b8ed143f0ad52eceb98cae8cae6c"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ad5e9b8ed143f0ad52eceb98cae8cae6c">vexIMEGetScratchpad</a> (uint8_t device, uint8_t *buf, uint8_t offset, uint8_t len)</td></tr>
<tr class="memdesc:ad5e9b8ed143f0ad52eceb98cae8cae6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read scratchpad data from IME.  <a href="#ad5e9b8ed143f0ad52eceb98cae8cae6c">More...</a><br/></td></tr>
<tr class="separator:ad5e9b8ed143f0ad52eceb98cae8cae6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ad9c14c3c90542ace05523d4e6ab71"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a84ad9c14c3c90542ace05523d4e6ab71">vexIMESetScratchpad</a> (uint8_t device, uint8_t *buf, uint8_t offset, uint8_t len)</td></tr>
<tr class="memdesc:a84ad9c14c3c90542ace05523d4e6ab71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write scratchpad data to the IME.  <a href="#a84ad9c14c3c90542ace05523d4e6ab71">More...</a><br/></td></tr>
<tr class="separator:a84ad9c14c3c90542ace05523d4e6ab71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b308a51c68936a6735c4bfd7e2c403"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ac8b308a51c68936a6735c4bfd7e2c403">vexIMEClearCounters</a> (uint8_t device)</td></tr>
<tr class="memdesc:ac8b308a51c68936a6735c4bfd7e2c403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear Counters in IME.  <a href="#ac8b308a51c68936a6735c4bfd7e2c403">More...</a><br/></td></tr>
<tr class="separator:ac8b308a51c68936a6735c4bfd7e2c403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac92cbafeeff3a1341e0de267c71447"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a4ac92cbafeeff3a1341e0de267c71447">vexIMEDisableTermination</a> (uint8_t device)</td></tr>
<tr class="memdesc:a4ac92cbafeeff3a1341e0de267c71447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable termination in IME.  <a href="#a4ac92cbafeeff3a1341e0de267c71447">More...</a><br/></td></tr>
<tr class="separator:a4ac92cbafeeff3a1341e0de267c71447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac830157b6177d9fdf5837c8b406dc7b5"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ac830157b6177d9fdf5837c8b406dc7b5">vexIMEEnableTermination</a> (uint8_t device)</td></tr>
<tr class="memdesc:ac830157b6177d9fdf5837c8b406dc7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable termination in IME.  <a href="#ac830157b6177d9fdf5837c8b406dc7b5">More...</a><br/></td></tr>
<tr class="separator:ac830157b6177d9fdf5837c8b406dc7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf351ccd3725018f2fda0671c36df86"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#aeaf351ccd3725018f2fda0671c36df86">vexIMESetAddr</a> (uint8_t *device, unsigned char newDevice)</td></tr>
<tr class="memdesc:aeaf351ccd3725018f2fda0671c36df86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set new Address in IME.  <a href="#aeaf351ccd3725018f2fda0671c36df86">More...</a><br/></td></tr>
<tr class="separator:aeaf351ccd3725018f2fda0671c36df86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a546890b9cf620e5475d3c812dfd15"><td class="memItemLeft" align="right" valign="top">msg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ad1a546890b9cf620e5475d3c812dfd15">vexIMEResetAll</a> ()</td></tr>
<tr class="memdesc:ad1a546890b9cf620e5475d3c812dfd15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset an IME.  <a href="#ad1a546890b9cf620e5475d3c812dfd15">More...</a><br/></td></tr>
<tr class="separator:ad1a546890b9cf620e5475d3c812dfd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611467b1bb630dd06bf970663ca0af07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#a611467b1bb630dd06bf970663ca0af07">vexIMEHandleErrors</a> (msg_t status, i2cflags_t errors)</td></tr>
<tr class="memdesc:a611467b1bb630dd06bf970663ca0af07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle received IME I2C errors.  <a href="#a611467b1bb630dd06bf970663ca0af07">More...</a><br/></td></tr>
<tr class="separator:a611467b1bb630dd06bf970663ca0af07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cd3432f94db7f9d0352d56fa94f8b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#aa7cd3432f94db7f9d0352d56fa94f8b9">vexIMEPrintBuf</a> (<a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *chp, uint8_t *buf, uint8_t len)</td></tr>
<tr class="memdesc:aa7cd3432f94db7f9d0352d56fa94f8b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a buffer with IME data.  <a href="#aa7cd3432f94db7f9d0352d56fa94f8b9">More...</a><br/></td></tr>
<tr class="separator:aa7cd3432f94db7f9d0352d56fa94f8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66da5c7b8efdcbc4f81ac6b5e34ff81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vexime_8c.html#ad66da5c7b8efdcbc4f81ac6b5e34ff81">vexIMEDebug</a> (<a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *chp, int argc, char *argv[])</td></tr>
<tr class="memdesc:ad66da5c7b8efdcbc4f81ac6b5e34ff81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug function to dump IME buffers.  <a href="#ad66da5c7b8efdcbc4f81ac6b5e34ff81">More...</a><br/></td></tr>
<tr class="separator:ad66da5c7b8efdcbc4f81ac6b5e34ff81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IME driver. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6221c36d200cbc4fd6e061e69f1df9ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t vexImeGetCount </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>channel</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return encoder count </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The encoder count - the offset </dd></dl>
<dl class="section note"><dt>Note</dt><dd>channel is int16_t to allow this function to be used in callbacks </dd></dl>

</div>
</div>
<a class="anchor" id="a1b04d80a5ce70b75e7bd0f5b0d388c1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexImeSetCount </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets encoder count (stores an offset) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The new encoder count value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>channel is int16_t to allow this function to be used in callbacks </dd></dl>

</div>
</div>
<a class="anchor" id="a69b05de0c45a146703ac5988db54fae5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t vexImeGetId </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>channel</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return encoder id </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The channel id (address) for this channel </dd></dl>

</div>
</div>
<a class="anchor" id="a1c8f5971c372ad42d5e64d9fc91760df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a>* vexImeGetPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a>&#160;</td>
          <td class="paramname"><em>channel</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return pointer to IME data structure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an imeData structure </dd></dl>

</div>
</div>
<a class="anchor" id="acbd2822970f2e1012e6901ee9c8ebe06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t vexImeGetChannelMax </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of IMEs found. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of IMEs that were found during the last init </dd></dl>

</div>
</div>
<a class="anchor" id="a25fe423e796a9a9c6a07eff55c577dba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexImeSetType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vexmotor_8h.html#a62170b45bb8b2b6c66889914eb602819">tVexMotorType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set motor type that this IME is attached to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The motor type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The IME motor type is different to tVexMotorType for backwards compatibility with the legacy vexPRO code. </dd></dl>

</div>
</div>
<a class="anchor" id="af7ec0cffa6d53f454e2f53026094cee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexImeSetMotor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexime_8h.html#ac3f48915e83bb314828cdda02c197cf3">tVexImeChannels</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vexmotor_8h.html#a1233a4fb09fef02c962ccec318e00c97">tVexMotor</a>&#160;</td>
          <td class="paramname"><em>motor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the motor that this IME is attached to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The encoder channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">motor</td><td>The motor index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a26406d6fd750e81f278178db6ebc4266"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t vexImeMotorGetCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexmotor_8h.html#a1233a4fb09fef02c962ccec318e00c97">tVexMotor</a>&#160;</td>
          <td class="paramname"><em>motor</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return encoder count based on motor index </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">motor</td><td>The motor index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The encoder count for the IME attached to the motor </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function was deprecated </dd></dl>

</div>
</div>
<a class="anchor" id="a53a8386ebaf0e115078cbcc5d68f3bb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexImeInit </td>
          <td>(</td>
          <td class="paramtype">I2CDriver *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *&#160;</td>
          <td class="paramname"><em>chp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize IMEs on the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>A pointer to the I2C driver (chibios hal driver) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chp</td><td>A pointer to a vexStream object (used for debug output) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The I2C driver should have already been initialized </dd></dl>

</div>
</div>
<a class="anchor" id="a291d9120116d7a199ed5f169e2eb324f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEUpdateCounts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a> *&#160;</td>
          <td class="paramname"><em>ime</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read encoder data and then calculate the rpm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ime</td><td>A pointer to an imeData structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
    <tr><td class="paramname">0</td><td>ime pointer is NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="adcd4646d1744c6345f43ad941667f50a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexIMEDataInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexime_8h.html#a7239f33409962b7cf56b4c952d96b401">imeData</a> *&#160;</td>
          <td class="paramname"><em>ime</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init data structure for one IME. </p>
<p>param[in] ime A pointer to a imeData structure </p>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ac2532e4e8d5bf4abe1e7620114eb14f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t vexIMEFindEncoders </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search bus and add all encoders found (up to 8) </p>
<dl class="section return"><dt>Returns</dt><dd>The number of IMEs found </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a3045a6ff7c59b14e141492f65328b9e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetVersion </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read version from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer for reply data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ad3e92757f38d6f7a1a95fb342925f8ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetVendor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read vendor from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer for reply data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a0bd8d372b36e74e57ec254a7e8b51433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetDeviceId </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read device ID from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer for reply data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ae28a9d4ae7da23ebf755c838b4dcdf18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read Status from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer for reply data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a02d24756e9d68f4ba6306e94d68c77ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetData </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read encoder data from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the buffer for reply data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ad5e9b8ed143f0ad52eceb98cae8cae6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEGetScratchpad </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read scratchpad data from IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to the scratchpad data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>An offset into the scratchpad area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of the scratchpad data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a84ad9c14c3c90542ace05523d4e6ab71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMESetScratchpad </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write scratchpad data to the IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to the scratchpad data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>An offset into the scratchpad area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of the scratchpad data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ac8b308a51c68936a6735c4bfd7e2c403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEClearCounters </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear Counters in IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a4ac92cbafeeff3a1341e0de267c71447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEDisableTermination </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable termination in IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ac830157b6177d9fdf5837c8b406dc7b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEEnableTermination </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable termination in IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="aeaf351ccd3725018f2fda0671c36df86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMESetAddr </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>newDevice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set new Address in IME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The IME address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newDevice</td><td>The new IME address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="ad1a546890b9cf620e5475d3c812dfd15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">msg_t vexIMEResetAll </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset an IME. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the I2C driver </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>If the function succeeded </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="a611467b1bb630dd06bf970663ca0af07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexIMEHandleErrors </td>
          <td>(</td>
          <td class="paramtype">msg_t&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i2cflags_t&#160;</td>
          <td class="paramname"><em>errors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle received IME I2C errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>The received message from the I2C low level driver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errors</td><td>The received error status </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Internal IME driver use only </dd></dl>

</div>
</div>
<a class="anchor" id="aa7cd3432f94db7f9d0352d56fa94f8b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexIMEPrintBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *&#160;</td>
          <td class="paramname"><em>chp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a buffer with IME data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chp</td><td>A pointer to a vexStream object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>A pointer to a buffer of uint8_t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The buffer elngth </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Used by internal IME debug functions </dd></dl>

</div>
</div>
<a class="anchor" id="ad66da5c7b8efdcbc4f81ac6b5e34ff81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vexIMEDebug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vexcompat_8h.html#a9e6611df4bd25a03db00eccdfa63b02b">vexStream</a> *&#160;</td>
          <td class="paramname"><em>chp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug function to dump IME buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chp</td><td>A pointer to a vexStream object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>The number of command line arguments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>An array of pointers to the command line args </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_39cce2f8bb217932b254ee6294567f16.html">vex</a></li><li class="navelem"><a class="el" href="dir_b5e8d6cab5ffd968b3bd427c6c6f2b80.html">cortex</a></li><li class="navelem"><a class="el" href="dir_f61136e0ed55f83c7b4c3927b7836c01.html">fw</a></li><li class="navelem"><a class="el" href="vexime_8c.html">vexime.c</a></li>
    <li class="footer">Generated on Tue Aug 20 2013 19:51:26 for Convex by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
